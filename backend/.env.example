# zVault Backend Environment Configuration
# Copy this file to .env and fill in the values for your environment.
# NEVER commit .env files with real secrets to version control.

# ============================================================================
# Server Configuration
# ============================================================================

# API Server Port
PORT=8080

# Logging Level (trace, debug, info, warn, error)
RUST_LOG=info

# ============================================================================
# Network Configuration
# ============================================================================

# Network environment: "mainnet", "testnet", or "devnet"
ZVAULT_NETWORK=devnet

# Solana RPC endpoint (defaults to network-specific public endpoint)
# ZVAULT_SOLANA_RPC=https://api.devnet.solana.com

# Bitcoin/Esplora API endpoint (defaults to network-specific blockstream API)
# ZVAULT_BITCOIN_RPC=https://blockstream.info/testnet/api

# ============================================================================
# Solana Program Configuration
# ============================================================================

# zVault program ID (deployed contract address)
# Required for mainnet/testnet, optional for devnet (has defaults)
# ZVAULT_PROGRAM_ID=AtztELZfz3GHA8hFQCv7aT9Mt47Xhknv3ZCNb3fmXsgf

# Pool state PDA address
# ZVAULT_POOL_STATE=8bbcVecB619HHsHn2TQMraJ8R8WjQjApdZY7h9JCJW7b

# Commitment tree PDA address
# ZVAULT_COMMITMENT_TREE=HtfDXZ5mBQNBdZrDxJMbXCDkyUqFdTDj7zAqo3aqrqiA

# zBTC mint address (Token-2022)
# ZVAULT_ZBTC_MINT=HiDyAcEBTS7SRiLA49BZ5B6XMBAksgwLEAHpvteR8vbV

# ============================================================================
# Signing Configuration
# ============================================================================

# Signing mode: "single" (development) or "frost" (production)
# For mainnet, FROST is required.
ZVAULT_SIGNING_MODE=single

# Solana relayer keypair path
# SOLANA_WALLET_PATH=~/.config/solana/id.json

# BTC signing key (hex-encoded, 32 bytes)
# Only used in "single" signing mode
# For devnet, a derived key is used if not set
# ZVAULT_BTC_SIGNER_KEY=your_hex_private_key_here

# ============================================================================
# FROST Configuration (Production Only)
# ============================================================================

# Required number of signers (threshold)
# ZVAULT_FROST_THRESHOLD=2

# Total number of participants
# ZVAULT_FROST_PARTICIPANTS=3

# FROST coordinator URL
# FROST_COORDINATOR_URL=http://localhost:9000

# This node's encrypted key share (from DKG ceremony)
# ZVAULT_FROST_KEY_SHARE=encrypted_key_share_here

# ============================================================================
# Operational Settings
# ============================================================================

# Maximum deposit per transaction (in satoshis)
# Default: 1,000,000,000 (10 BTC) for mainnet
# ZVAULT_DEPOSIT_LIMIT_SATS=1000000000

# Enable demo mode (devnet/testnet only)
# Allows ADD_DEMO_NOTE and ADD_DEMO_STEALTH instructions
# NEVER enable on mainnet
ZVAULT_DEMO_MODE=1

# Logging level for zVault components
ZVAULT_LOG_LEVEL=info

# ============================================================================
# Database Configuration
# ============================================================================

# PostgreSQL connection URL
# DATABASE_URL=postgresql://user:pass@localhost/zvault

# Redis URL (for caching and rate limiting)
# REDIS_URL=redis://localhost:6379

# ============================================================================
# Bitcoin RPC (optional, for full node integration)
# ============================================================================

# BTC_RPC_URL=http://localhost:18332
# BTC_RPC_USER=your_rpc_user
# BTC_RPC_PASS=your_rpc_pass
# BTC_NETWORK=testnet

# ============================================================================
# Monitoring & Alerting
# ============================================================================

# Sentry DSN for error tracking
# SENTRY_DSN=https://...@sentry.io/...

# PagerDuty integration key (for alerting)
# PAGERDUTY_KEY=your_pagerduty_key

# Health check endpoint port
# HEALTH_CHECK_PORT=8081
